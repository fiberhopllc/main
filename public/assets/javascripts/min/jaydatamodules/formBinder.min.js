
(function($){var radioCheck=/radio|checkbox/i,keyBreaker=/[^\[\]]+/g,numberMatcher=/^[\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?$/;var isNumber=function(value){if(typeof value=='number'){return true;}
if(typeof value!='string'){return false;}
return value.match(numberMatcher);};$.fn.extend({formBinder:function(obj,convert){if(this[0].nodeName.toLowerCase()=='form'&&this[0].elements){return jQuery(jQuery.makeArray(this[0].elements)).getParams(obj,convert);}
return jQuery("input[name], textarea[name], select[name]",this[0]).getParams(obj,convert);},getParams:function(obj,convert){var data=obj||{},current;convert=convert===undefined?true:convert;this.each(function(){var el=this,type=el.type&&el.type.toLowerCase();if((type=='submit')||!el.name){return;}
var key=el.name,value=$.data(el,"value")||$.fn.val.call([el]),isRadioCheck=radioCheck.test(el.type),parts=key.match(keyBreaker),write=!isRadioCheck||!!el.checked,lastPart;if(convert){if(isNumber(value)){value=parseFloat(value);}else if(value==='true'||value==='false'){value=Boolean(value);}}
current=data;for(var i=0;i<parts.length-1;i++){if(!current[parts[i]]){current[parts[i]]={};}
current=current[parts[i]];}
lastPart=parts[parts.length-1];if(lastPart in current&&type==="checkbox"){if(!$.isArray(current[lastPart])){current[lastPart]=current[lastPart]===undefined?[]:[current[lastPart]];}
if(write){current[lastPart].push(value);}}else if(write||!current[lastPart]){current[lastPart]=write?value:undefined;}});return data;}});})(jQuery);