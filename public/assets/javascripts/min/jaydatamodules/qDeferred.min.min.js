
(function(a){var d;if("undefined"===typeof Q)if("undefined"!==typeof module&&module.exports)d=require("q");else{Guard.raise(new Exception("Q is not defined"));return}else d=Q;a.Class.define("$data.Deferred",a.PromiseHandlerBase,null,{constructor:function(){this.deferred=new d.defer},deferred:{},createCallback:function(c){var c=a.typeSystem.createCallbackSetting(c),b=this;return cbWrapper={success:function(){c.success.apply(b.deferred,arguments);b.deferred.resolve.apply(b.deferred,arguments)},error:function(){Array.prototype.push.call(arguments,b.deferred);c.error.apply(b.deferred,arguments)}}},getPromise:function(){return this.deferred.promise}},null);a.PromiseHandler=a.Deferred})($data);