
define(['jquery','knockout'],function($,ko){return{callbackParam:'callback',toJSON:function(data){return ko.toJSON(data);},get:function(url,query,headers){return $.ajax(url,{data:query,headers:ko.toJS(headers)});},jsonp:function(url,query,callbackParam,headers){if(url.indexOf('=?')==-1){callbackParam=callbackParam||this.callbackParam;if(url.indexOf('?')==-1){url+='?';}else{url+='&';}
url+=callbackParam+'=?';}
return $.ajax({url:url,dataType:'jsonp',data:query,headers:ko.toJS(headers)});},put:function(url,data,headers){return $.ajax({url:url,data:this.toJSON(data),type:'PUT',contentType:'application/json',dataType:'json',headers:ko.toJS(headers)});},post:function(url,data,headers){return $.ajax({url:url,data:this.toJSON(data),type:'POST',contentType:'application/json',dataType:'json',headers:ko.toJS(headers)});},remove:function(url,query,headers){return $.ajax({url:url,data:query,type:'DELETE',headers:ko.toJS(headers)});}};});